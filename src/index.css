@import "tailwindcss";
@import "tw-animate-css";

/* Enable class-based dark mode for Tailwind v4 */
@custom-variant dark (&:where(.dark, .dark *));

/* ==================== */
/* Rich Text Editor - Preserve Inline Styles */
/* ==================== */

/* 
 * CRITICAL: Make elements with inline style attributes respect those styles
 * This prevents Tailwind prose classes from overriding inline font-size, color, etc.
 */

/* Reset prose overrides for spans with inline styles */
.prose span[style],
.prose font[style],
.prose-sm span[style],
.prose-sm font[style] {
    font-size: revert !important;
    color: revert !important;
    font-weight: revert !important;
    font-style: revert !important;
    text-decoration: revert !important;
}

/* For elements in contentEditable areas */
[contenteditable="true"] span[style],
[contenteditable="true"] font[style] {
    font-size: revert !important;
}

/* Ensure dangerouslySetInnerHTML areas also respect inline styles */
div[class*="prose"] span[style] {
    font-size: revert !important;
}

/* Ant Design Dark Mode Overrides */
.dark .ant-input,
.dark .ant-input-affix-wrapper,
.dark .ant-input-textarea textarea {
    background-color: rgb(51 65 85) !important;
    /* slate-700 */
    color: white !important;
    border-color: rgb(71 85 105) !important;
    /* slate-600 */
}

.dark .ant-input::placeholder,
.dark .ant-input-textarea textarea::placeholder {
    color: rgb(148 163 184) !important;
    /* slate-400 */
}

.dark .ant-select-selector {
    background-color: rgb(51 65 85) !important;
    color: white !important;
    border-color: rgb(71 85 105) !important;
}

.dark .ant-select-arrow {
    color: rgb(148 163 184) !important;
}

.dark .ant-modal-content {
    background-color: rgb(30 41 59) !important;
    /* slate-800 */
    color: white !important;
}

.dark .ant-modal-header {
    background-color: rgb(30 41 59) !important;
    border-bottom-color: rgb(51 65 85) !important;
}

.dark .ant-modal-title {
    color: white !important;
}

.dark .ant-modal-close-x {
    color: rgb(148 163 184) !important;
}

.dark .ant-modal-footer {
    border-top-color: rgb(51 65 85) !important;
}

.dark .ant-btn-default {
    background-color: rgb(51 65 85) !important;
    color: white !important;
    border-color: rgb(71 85 105) !important;
}

.dark .ant-btn-default:hover {
    background-color: rgb(71 85 105) !important;
    color: white !important;
    border-color: rgb(100 116 139) !important;
}

/* Ant Design Table Dark Mode */
.dark .ant-table {
    background-color: rgb(30 41 59) !important;
    color: white !important;
}

.dark .ant-table-thead>tr>th {
    background-color: rgb(51 65 85) !important;
    color: white !important;
    border-bottom-color: rgb(71 85 105) !important;
}

.dark .ant-table-tbody>tr>td {
    background-color: rgb(30 41 59) !important;
    color: white !important;
    border-bottom-color: rgb(51 65 85) !important;
}

.dark .ant-table-tbody>tr:hover>td {
    background-color: rgb(51 65 85) !important;
}

.dark .ant-table-cell-row-hover {
    background-color: rgb(51 65 85) !important;
}

.dark .ant-table-wrapper .ant-table-container {
    border-color: rgb(51 65 85) !important;
}

.dark .ant-pagination-item {
    background-color: rgb(51 65 85) !important;
    border-color: rgb(71 85 105) !important;
}

.dark .ant-pagination-item a {
    color: white !important;
}

.dark .ant-pagination-item-active {
    border-color: rgb(59 130 246) !important;
}

.dark .ant-pagination-prev .ant-pagination-item-link,
.dark .ant-pagination-next .ant-pagination-item-link {
    background-color: rgb(51 65 85) !important;
    border-color: rgb(71 85 105) !important;
    color: white !important;
}

.dark .ant-pagination-options .ant-select-selector {
    background-color: rgb(51 65 85) !important;
    color: white !important;
}

.dark .ant-table-footer,
.dark .ant-table-summary {
    background-color: rgb(30 41 59) !important;
}

.dark .ant-empty-description {
    color: rgb(148 163 184) !important;
}

/* Form in dark mode */
.dark .ant-form-item-label>label {
    color: white !important;
}

.dark .ant-form-item-explain-error {
    color: rgb(248 113 113) !important;
}

/* Dropdown in dark mode */
.dark .ant-dropdown-menu {
    background-color: rgb(30 41 59) !important;
}

.dark .ant-dropdown-menu-item {
    color: white !important;
}

.dark .ant-dropdown-menu-item:hover {
    background-color: rgb(51 65 85) !important;
}

.dark .ant-dropdown-menu-item-danger:hover {
    background-color: rgb(127 29 29) !important;
}

/* Card in dark mode */
.dark .ant-card {
    background-color: rgb(30 41 59) !important;
    border-color: rgb(51 65 85) !important;
}

.dark .ant-card-body {
    background-color: rgb(30 41 59) !important;
    color: white !important;
}

.dark .ant-card-meta-title {
    color: white !important;
}

.dark .ant-card-meta-description {
    color: rgb(148 163 184) !important;
}

.dark .ant-card-actions {
    background-color: rgb(51 65 85) !important;
    border-top-color: rgb(71 85 105) !important;
}

.dark .ant-card-actions>li {
    color: rgb(148 163 184) !important;
}

.dark .ant-card-actions>li:not(:last-child) {
    border-inline-end-color: rgb(71 85 105) !important;
}

.dark .ant-card-hoverable:hover {
    border-color: rgb(71 85 105) !important;
}

/* Select Dropdown Popup in dark mode */
html.dark .ant-select-dropdown {
    background-color: rgb(30 41 59) !important;
    border-color: rgb(51 65 85) !important;
}

html.dark .ant-select-item {
    color: white !important;
}

html.dark .ant-select-item-option-active:not(.ant-select-item-option-disabled) {
    background-color: rgb(51 65 85) !important;
}

html.dark .ant-select-item-option-selected:not(.ant-select-item-option-disabled) {
    background-color: rgb(71 85 105) !important;
    color: white !important;
}

html.dark .ant-select-item-option:hover {
    background-color: rgb(51 65 85) !important;
}

/* ==================== */
/* Additional Dark Mode for Question Forms */
/* ==================== */

/* Card Header in dark mode */
.dark .ant-card-head {
    background-color: rgb(51 65 85) !important;
    border-bottom-color: rgb(71 85 105) !important;
    color: white !important;
}

.dark .ant-card-head-title {
    color: white !important;
}

.dark .ant-card-extra {
    color: rgb(148 163 184) !important;
}

/* Fix for bg-white and bg-gray-50 elements in dark mode */
.dark .bg-white {
    background-color: rgb(30 41 59) !important;
}

.dark .bg-gray-50 {
    background-color: rgb(51 65 85) !important;
}

.dark .bg-gray-100 {
    background-color: rgb(71 85 105) !important;
}

/* Fix text colors in dark mode */
.dark .text-gray-700,
.dark .text-gray-600 {
    color: rgb(203 213 225) !important;
}

.dark .text-gray-500 {
    color: rgb(148 163 184) !important;
}

/* Fix border colors in dark mode */
.dark .border,
.dark .border-gray-200,
.dark .border-gray-300 {
    border-color: rgb(71 85 105) !important;
}

/* Form container backgrounds */
.dark .shadow-sm {
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.3) !important;
}

/* Tabs in dark mode */
.dark .ant-tabs-nav::before {
    border-bottom-color: rgb(71 85 105) !important;
}

.dark .ant-tabs-tab {
    color: rgb(148 163 184) !important;
}

.dark .ant-tabs-tab:hover {
    color: rgb(203 213 225) !important;
}

.dark .ant-tabs-tab-active .ant-tabs-tab-btn {
    color: rgb(96 165 250) !important;
}

.dark .ant-tabs-ink-bar {
    background-color: rgb(96 165 250) !important;
}

/* Checkbox and Radio in dark mode */
.dark .ant-checkbox-wrapper,
.dark .ant-radio-wrapper {
    color: rgb(203 213 225) !important;
}

/* Popconfirm in dark mode */
.dark .ant-popconfirm-message-title {
    color: white !important;
}

.dark .ant-popover-inner {
    background-color: rgb(30 41 59) !important;
}

.dark .ant-popover-arrow::before {
    background-color: rgb(30 41 59) !important;
}

/* InputNumber in dark mode */
.dark .ant-input-number {
    background-color: rgb(51 65 85) !important;
    border-color: rgb(71 85 105) !important;
    color: white !important;
}

.dark .ant-input-number-handler-wrap {
    background-color: rgb(51 65 85) !important;
}

.dark .ant-input-number-handler {
    color: rgb(148 163 184) !important;
    border-color: rgb(71 85 105) !important;
}

/* Blue and green backgrounds in dark mode */
.dark .bg-blue-50 {
    background-color: rgba(59, 130, 246, 0.15) !important;
}

.dark .bg-green-50 {
    background-color: rgba(34, 197, 94, 0.15) !important;
}

.dark .border-blue-200,
.dark .border-blue-100 {
    border-color: rgba(59, 130, 246, 0.3) !important;
}

.dark .border-green-200,
.dark .border-green-300 {
    border-color: rgba(34, 197, 94, 0.3) !important;
}

/* Radio Group Button in dark mode */
.dark .ant-radio-button-wrapper {
    background-color: rgb(51 65 85) !important;
    border-color: rgb(71 85 105) !important;
    color: rgb(203 213 225) !important;
}

.dark .ant-radio-button-wrapper:hover {
    color: rgb(96 165 250) !important;
}

.dark .ant-radio-button-wrapper-checked {
    background-color: rgb(59 130 246) !important;
    border-color: rgb(59 130 246) !important;
    color: white !important;
}